<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js" ></script>
<canvas id="a" width="600" height="160"></canvas>

<script>
    canvas = new fabric.Canvas("a")

    objs = []
    objs.push(new fabric.Rect({left: 50, top: 50, height: 50, width: 50, fill: "red" }))
    objs.push(new fabric.Rect({left: 90, top: 60, height: 50,width: 50, fill: "green"}))
    objs.push(new fabric.Rect({left: 70, top: 80, height: 50, width: 50, fill: "blue" }))

    group = new fabric.Group(objs, { left: 30, top: 0, opacity: 0.8, selectable: false })
    canvas.add(group)

    canvas.add(new fabric.Rect({left: 400, top: 40, height: 40, width: 40, stroke: "black", fill: "" }))
    canvas.renderAll()

    canvas.on('mouse:dblclick', (evt) => {
        rect = new fabric.Rect({
            left: evt.pointer.x,
            top: evt.pointer.y,
            height: 40,
            width: 40,
            stroke: "black",
            fill: ""
        })
        canvas.add(rect)
        canvas.setActiveObject(rect);
    })
    canvas.on('object:moving', (evt) => {
        evt.target.fill = "red"
    })
</script>
